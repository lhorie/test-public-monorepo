{"version":3,"file":"node.js","sources":["../src/plugin.js","../src/hoc.js","../src/__tests__/index.node.js","../src/__tests__/interface.js"],"sourcesContent":["/** Copyright (c) 2018 Uber Technologies, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {ProviderPlugin} from 'fusion-react';\nimport rpc, {mock as RPCMock} from 'fusion-plugin-rpc';\nimport type {RPCType, RPCDepsType} from 'fusion-plugin-rpc';\n\nclass RPCProvider extends React.Component<*> {\n  rpc: typeof rpc;\n\n  constructor(props, context) {\n    super(props, context);\n    this.rpc = props.provides.from(props.ctx);\n  }\n  getChildContext() {\n    return {rpc: this.rpc};\n  }\n  render() {\n    return React.Children.only(this.props.children);\n  }\n}\n\nRPCProvider.childContextTypes = {\n  rpc: PropTypes.object.isRequired,\n};\n\nexport default ProviderPlugin.create<RPCDepsType, RPCType>(\n  'rpc',\n  rpc,\n  RPCProvider\n);\nexport const mock = ProviderPlugin.create<RPCDepsType, RPCType>(\n  'rpc',\n  RPCMock,\n  RPCProvider\n);\n","/** Copyright (c) 2018 Uber Technologies, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport type {Reducer} from 'redux';\nimport {createRPCHandler, createRPCReactors} from 'fusion-rpc-redux';\n\ntype RPCReducersType = {\n  start?: Reducer<*, *>,\n  success?: Reducer<*, *>,\n  failure?: Reducer<*, *>,\n};\nexport const withRPCReactor = (\n  rpcId: string,\n  reducers: RPCReducersType,\n  {\n    propName,\n    transformParams,\n    mapStateToParams,\n  }: {\n    propName?: string,\n    transformParams?: (params: any) => any,\n    mapStateToParams?: (state: any) => any,\n  } = {}\n) => {\n  return withRPCRedux(rpcId, {\n    actions: createRPCReactors(rpcId, reducers),\n    propName,\n    rpcId,\n    transformParams,\n    mapStateToParams,\n  });\n};\n\nexport function withRPCRedux(\n  rpcId: string,\n  {\n    propName,\n    actions,\n    transformParams,\n    mapStateToParams,\n  }: {\n    propName?: string,\n    actions: any,\n    transformParams?: (params: any) => any,\n    mapStateToParams?: (state: any) => any,\n  } = {}\n): (React.ComponentType<*>) => React.ComponentType<*> {\n  if (!propName) {\n    propName = rpcId;\n  }\n  return (Component: React.ComponentType<*>) => {\n    class withRPCRedux extends React.Component<*, *> {\n      render() {\n        const {rpc, store} = this.context;\n        const handler = createRPCHandler({\n          rpcId,\n          rpc,\n          store,\n          actions,\n          mapStateToParams,\n          transformParams,\n        });\n        const props = {\n          ...this.props,\n          [propName]: handler,\n        };\n        return React.createElement(Component, props);\n      }\n    }\n    const displayName = Component.displayName || Component.name || 'Anonymous';\n    withRPCRedux.displayName = 'WithRPCRedux' + '(' + displayName + ')';\n    withRPCRedux.contextTypes = {\n      rpc: PropTypes.object.isRequired,\n      store: PropTypes.object.isRequired,\n    };\n    return withRPCRedux;\n  };\n}\n","/** Copyright (c) 2018 Uber Technologies, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport React from 'react';\nimport test from 'tape-cup';\nimport ShallowRenderer from 'react-test-renderer/shallow';\n\nimport App from 'fusion-core';\nimport type {Context} from 'fusion-core';\nimport {RPCHandlersToken} from 'fusion-plugin-rpc';\nimport {getService} from 'fusion-test-utils';\nimport {UniversalEventsToken} from 'fusion-plugin-universal-events';\n\nimport Plugin from '../plugin';\nimport {mock, ResponseError} from '../index';\nimport {withRPCRedux, withRPCReactor} from '../hoc';\n\n/* Test helpers */\nfunction createMockEmitter(props: mixed) {\n  const emitter = {\n    from: () => {\n      return emitter;\n    },\n    emit: () => {},\n    setFrequency: () => {},\n    teardown: () => {},\n    map: () => {},\n    on: () => {},\n    off: () => {},\n    mapEvent: () => {},\n    handleEvent: () => {},\n    flush: () => {},\n    ...props,\n  };\n  return emitter;\n}\n\ntest('plugin', t => {\n  t.equals(typeof Plugin.provides, 'function');\n  const handlers = {test() {}};\n  const EventEmitter = createMockEmitter();\n\n  const appCreator = () => {\n    const app = new App('content', el => el);\n    app.register(RPCHandlersToken, handlers);\n    app.register(UniversalEventsToken, EventEmitter);\n    return app;\n  };\n\n  const RPCRedux = getService(appCreator, Plugin);\n  const mockCtx: Context = ({headers: {}, memoized: new Map()}: any);\n  t.equal(typeof RPCRedux.from(mockCtx).request, 'function');\n  t.end();\n});\n\ntest('mock plugin', t => {\n  t.equals(typeof mock.provides, 'function');\n  const handlers = {test() {}};\n\n  const appCreator = () => {\n    const app = new App('content', el => el);\n    app.register(RPCHandlersToken, handlers);\n    return app;\n  };\n\n  const RPCRedux = getService(appCreator, mock);\n  const mockCtx: Context = ({headers: {}, memoized: new Map()}: any);\n  t.equal(typeof RPCRedux.from(mockCtx).request, 'function');\n  t.end();\n});\n\ntest('withRPCRedux hoc', t => {\n  function Test() {\n    return null;\n  }\n  t.equals(typeof withRPCRedux, 'function');\n  const Connected = withRPCRedux('test')(Test);\n  t.equals(Connected.displayName, 'WithRPCRedux(Test)');\n  const renderer = new ShallowRenderer();\n  const expectedActions = ['TEST_START', 'TEST_SUCCESS'];\n  const expectedPayloads = ['test-args', 'test-resolve'];\n  renderer.render(React.createElement(Connected), {\n    rpc: {\n      request(method, args) {\n        t.equal(method, 'test');\n        t.equal(args, 'test-args');\n        return Promise.resolve('test-resolve');\n      },\n    },\n    store: {\n      dispatch(action) {\n        t.equal(action.type, expectedActions.shift());\n        t.equal(action.payload, expectedPayloads.shift());\n      },\n      getState() {},\n    },\n  });\n  const rendered = renderer.getRenderOutput();\n  t.equal(\n    typeof rendered.props.test,\n    'function',\n    'passes the handler through to props'\n  );\n  rendered.props.test('test-args');\n  t.end();\n});\n\ntest('withRPCReactor hoc', t => {\n  function Test() {\n    return null;\n  }\n  t.equals(typeof withRPCReactor, 'function');\n  const Connected = withRPCReactor('test', {\n    start() {},\n    success() {},\n    failure() {},\n  })(Test);\n  t.equals(Connected.displayName, 'WithRPCRedux(Test)');\n  const renderer = new ShallowRenderer();\n  const expectedActions = ['TEST_START', 'TEST_SUCCESS'];\n  const expectedPayloads = ['test-args', 'test-resolve'];\n  renderer.render(React.createElement(Connected), {\n    rpc: {\n      request(method, args) {\n        t.equal(method, 'test');\n        t.equal(args, 'test-args');\n        return Promise.resolve('test-resolve');\n      },\n    },\n    store: {\n      dispatch(action) {\n        t.equal(action.type, expectedActions.shift());\n        t.equal(action.payload, expectedPayloads.shift());\n      },\n      getState() {},\n    },\n  });\n  const rendered = renderer.getRenderOutput();\n  t.equal(\n    typeof rendered.props.test,\n    'function',\n    'passes the handler through to props'\n  );\n  rendered.props.test('test-args');\n  t.end();\n});\n\ntest('ResponseError', t => {\n  const e = new ResponseError('test');\n  t.ok(e instanceof Error);\n  t.end();\n});\n","/** Copyright (c) 2018 Uber Technologies, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport tape from 'tape-cup';\n\nimport Plugin, {\n  createRPCReducer,\n  mock,\n  withRPCRedux,\n  withRPCReactor,\n} from '../index';\n\ntape('interface', t => {\n  t.equal(typeof Plugin.provides, 'function', 'default export function');\n  t.equal(\n    typeof createRPCReducer,\n    'function',\n    'createRPCReducer function export'\n  );\n  t.equal(typeof mock.provides, 'function', 'mock function export');\n  t.equal(typeof withRPCRedux, 'function', 'withRPCRedux function export');\n  t.equal(typeof withRPCReactor, 'function', 'withRPCReactor function export');\n  t.end();\n});\n"],"names":["RPCProvider","React","constructor","props","context","rpc","provides","from","ctx","getChildContext","render","only","children","childContextTypes","PropTypes","object","isRequired","ProviderPlugin","create","mock","RPCMock","withRPCReactor","rpcId","reducers","propName","transformParams","mapStateToParams","withRPCRedux","actions","createRPCReactors","Component","store","handler","createRPCHandler","displayName","name","contextTypes","createMockEmitter","emitter","emit","setFrequency","teardown","map","on","off","mapEvent","handleEvent","flush","test","t","equals","Plugin","handlers","EventEmitter","appCreator","app","App","el","register","RPCHandlersToken","UniversalEventsToken","RPCRedux","getService","mockCtx","headers","memoized","Map","equal","request","end","Test","Connected","renderer","ShallowRenderer","expectedActions","expectedPayloads","createElement","method","args","Promise","resolve","dispatch","action","type","shift","payload","getState","rendered","getRenderOutput","start","success","failure","e","ResponseError","ok","Error","tape","createRPCReducer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,AAOA,MAAMA,WAAN,UAA0BC,eAA1B,EAA6C;EAG3CC,WAAW,CAACC,KAAD,EAAQC,OAAR,EAAiB;;;UACpBD,KAAN,EAAaC,OAAb;;SACKC,GAAL,GAAWF,KAAK,CAACG,QAAN,CAAeC,IAAf,CAAoBJ,KAAK,CAACK,GAA1B,CAAX;;;EAEFC,eAAe,GAAG;;;WACT;MAACJ,GAAG,EAAE,KAAKA;KAAlB;;;EAEFK,MAAM,GAAG;;;WACAT,cAAA,CAAeU,IAAf,CAAoB,KAAKR,KAAL,CAAWS,QAA/B,CAAP;;;;;;AAIJZ,WAAW,CAACa,iBAAZ,GAAgC;EAC9BR,GAAG,EAAES,SAAS,CAACC,MAAV,CAAiBC;CADxB;AAIA,aAAeC,0BAAc,CAACC,MAAf,CACb,KADa,EAEbb,YAFa,EAGbL,WAHa,CAAf;AAKA,AAAO,MAAMmB,IAAI,2BAAGF,0BAAc,CAACC,MAAf,CAClB,KADkB,EAElBE,QAFkB,EAGlBpB,WAHkB,CAAH,CAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/BP;AAUA,AAAO,MAAMqB,cAAc,GAAG,CAC5BC,KAD4B,EAE5BC,QAF4B,EAG5B;EACEC,QADF;EAEEC,eAFF;EAGEC;8BAKE,EARJ,CAH4B,KAYzB;;;SACIC,YAAY,CAACL,KAAD,EAAQ;IACzBM,OAAO,EAAEC,gCAAiB,CAACP,KAAD,EAAQC,QAAR,CADD;IAEzBC,QAFyB;IAGzBF,KAHyB;IAIzBG,eAJyB;IAKzBC;GALiB,CAAnB;CAbK;AAsBP,AAAO,SAASC,YAAT,CACLL,KADK,EAEL;EACEE,QADF;EAEEI,OAFF;EAGEH,eAHF;EAIEC;8BAME,EAVJ,CAFK,EAa+C;;;;MAChD,CAACF,QAAL,EAAe;;;IACbA,QAAQ,GAAGF,KAAX;GADF;;;;;SAGQQ,SAAD,IAAuC;;;UACtCH,YAAN,UAA2B1B,eAA3B,EAAiD;MAC/CS,MAAM,GAAG;;cACD;eAACL,MAAD;UAAM0B;mCAAS,KAAK3B,OAApB,CAAN;cACM4B,OAAO,0BAAGC,+BAAgB,CAAC;UAC/BX,KAD+B;eAE/BjB,MAF+B;UAG/B0B,KAH+B;UAI/BH,OAJ+B;UAK/BF,gBAL+B;UAM/BD;SAN8B,CAAnB,CAAb;cAQMtB,KAAK,4CACN,KAAKA,KADC;WAERqB,QAAD,GAAYQ;WAFd;;eAIO/B,mBAAA,CAAoB6B,SAApB,EAA+B3B,KAA/B,CAAP;;;;;UAGE+B,WAAW,0BAAG,0BAAAJ,SAAS,CAACI,WAAV,+BAAyBJ,SAAS,CAACK,IAAnC,+BAA2C,WAA3C,CAAH,CAAjB;;IACAR,YAAY,CAACO,WAAb,GAA2B,iBAAiB,GAAjB,GAAuBA,WAAvB,GAAqC,GAAhE;;IACAP,YAAY,CAACS,YAAb,GAA4B;MAC1B/B,GAAG,EAAES,SAAS,CAACC,MAAV,CAAiBC,UADI;MAE1Be,KAAK,EAAEjB,SAAS,CAACC,MAAV,CAAiBC;KAF1B;;WAIOW,YAAP;GAzBF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDF,AAcA;;AACA,SAASU,iBAAT,CAA2BlC,KAA3B,EAAyC;QACjCmC,OAAO;IACX/B,IAAI,EAAE,MAAM;aACH+B,OAAP;KAFS;IAIXC,IAAI,EAAE,MAAM,EAJD;IAKXC,YAAY,EAAE,MAAM,EALT;IAMXC,QAAQ,EAAE,MAAM,EANL;IAOXC,GAAG,EAAE,MAAM,EAPA;IAQXC,EAAE,EAAE,MAAM,EARC;IASXC,GAAG,EAAE,MAAM,EATA;IAUXC,QAAQ,EAAE,MAAM,EAVL;IAWXC,WAAW,EAAE,MAAM,EAXR;IAYXC,KAAK,EAAE,MAAM;KACV5C,KAbQ,CAAb;;SAeOmC,OAAP;;;AAGFU,IAAI,CAAC,QAAD,EAAWC,CAAC,IAAI;EAClBA,CAAC,CAACC,MAAF,CAAS,OAAOC,MAAM,CAAC7C,QAAvB,EAAiC,UAAjC;QACM8C,QAAQ,GAAG;IAACJ,IAAI,GAAG;;GAAzB;QACMK,YAAY,GAAGhB,iBAAiB,EAAtC;;QAEMiB,UAAU,GAAG,MAAM;UACjBC,GAAG,GAAG,IAAIC,GAAJ,CAAQ,SAAR,EAAmBC,EAAE,IAAIA,EAAzB,CAAZ;IACAF,GAAG,CAACG,QAAJ,CAAaC,oBAAb,EAA+BP,QAA/B;IACAG,GAAG,CAACG,QAAJ,CAAaE,gDAAb,EAAmCP,YAAnC;WACOE,GAAP;GAJF;;QAOMM,QAAQ,GAAGC,0BAAU,CAACR,UAAD,EAAaH,MAAb,CAA3B;QACMY,OAAgB,GAAI;IAACC,OAAO,EAAE,EAAV;IAAcC,QAAQ,EAAE,IAAIC,GAAJ;GAAlD;EACAjB,CAAC,CAACkB,KAAF,CAAQ,OAAON,QAAQ,CAACtD,IAAT,CAAcwD,OAAd,EAAuBK,OAAtC,EAA+C,UAA/C;EACAnB,CAAC,CAACoB,GAAF;CAfE,CAAJ;AAkBArB,IAAI,CAAC,aAAD,EAAgBC,CAAC,IAAI;EACvBA,CAAC,CAACC,MAAF,CAAS,OAAO/B,IAAI,CAACb,QAArB,EAA+B,UAA/B;QACM8C,QAAQ,GAAG;IAACJ,IAAI,GAAG;;GAAzB;;QAEMM,UAAU,GAAG,MAAM;UACjBC,GAAG,GAAG,IAAIC,GAAJ,CAAQ,SAAR,EAAmBC,EAAE,IAAIA,EAAzB,CAAZ;IACAF,GAAG,CAACG,QAAJ,CAAaC,oBAAb,EAA+BP,QAA/B;WACOG,GAAP;GAHF;;QAMMM,QAAQ,GAAGC,0BAAU,CAACR,UAAD,EAAanC,IAAb,CAA3B;QACM4C,OAAgB,GAAI;IAACC,OAAO,EAAE,EAAV;IAAcC,QAAQ,EAAE,IAAIC,GAAJ;GAAlD;EACAjB,CAAC,CAACkB,KAAF,CAAQ,OAAON,QAAQ,CAACtD,IAAT,CAAcwD,OAAd,EAAuBK,OAAtC,EAA+C,UAA/C;EACAnB,CAAC,CAACoB,GAAF;CAbE,CAAJ;AAgBArB,IAAI,CAAC,kBAAD,EAAqBC,CAAC,IAAI;WACnBqB,IAAT,GAAgB;WACP,IAAP;;;EAEFrB,CAAC,CAACC,MAAF,CAAS,OAAOvB,YAAhB,EAA8B,UAA9B;QACM4C,SAAS,GAAG5C,YAAY,CAAC,MAAD,CAAZ,CAAqB2C,IAArB,CAAlB;EACArB,CAAC,CAACC,MAAF,CAASqB,SAAS,CAACrC,WAAnB,EAAgC,oBAAhC;QACMsC,QAAQ,GAAG,IAAIC,eAAJ,EAAjB;QACMC,eAAe,GAAG,CAAC,YAAD,EAAe,cAAf,CAAxB;QACMC,gBAAgB,GAAG,CAAC,WAAD,EAAc,cAAd,CAAzB;EACAH,QAAQ,CAAC9D,MAAT,CAAgBT,cAAK,CAAC2E,aAAN,CAAoBL,SAApB,CAAhB,EAAgD;IAC9ClE,GAAG,EAAE;MACH+D,OAAO,CAACS,MAAD,EAASC,IAAT,EAAe;QACpB7B,CAAC,CAACkB,KAAF,CAAQU,MAAR,EAAgB,MAAhB;QACA5B,CAAC,CAACkB,KAAF,CAAQW,IAAR,EAAc,WAAd;eACOC,OAAO,CAACC,OAAR,CAAgB,cAAhB,CAAP;;;KAL0C;IAQ9CjD,KAAK,EAAE;MACLkD,QAAQ,CAACC,MAAD,EAAS;QACfjC,CAAC,CAACkB,KAAF,CAAQe,MAAM,CAACC,IAAf,EAAqBT,eAAe,CAACU,KAAhB,EAArB;QACAnC,CAAC,CAACkB,KAAF,CAAQe,MAAM,CAACG,OAAf,EAAwBV,gBAAgB,CAACS,KAAjB,EAAxB;OAHG;;MAKLE,QAAQ,GAAG;;;GAbf;QAgBMC,QAAQ,GAAGf,QAAQ,CAACgB,eAAT,EAAjB;EACAvC,CAAC,CAACkB,KAAF,CACE,OAAOoB,QAAQ,CAACpF,KAAT,CAAe6C,IADxB,EAEE,UAFF,EAGE,qCAHF;EAKAuC,QAAQ,CAACpF,KAAT,CAAe6C,IAAf,CAAoB,WAApB;EACAC,CAAC,CAACoB,GAAF;CAjCE,CAAJ;AAoCArB,IAAI,CAAC,oBAAD,EAAuBC,CAAC,IAAI;WACrBqB,IAAT,GAAgB;WACP,IAAP;;;EAEFrB,CAAC,CAACC,MAAF,CAAS,OAAO7B,cAAhB,EAAgC,UAAhC;QACMkD,SAAS,GAAGlD,cAAc,CAAC,MAAD,EAAS;IACvCoE,KAAK,GAAG,EAD+B;;IAEvCC,OAAO,GAAG,EAF6B;;IAGvCC,OAAO,GAAG;;GAHoB,CAAd,CAIfrB,IAJe,CAAlB;EAKArB,CAAC,CAACC,MAAF,CAASqB,SAAS,CAACrC,WAAnB,EAAgC,oBAAhC;QACMsC,QAAQ,GAAG,IAAIC,eAAJ,EAAjB;QACMC,eAAe,GAAG,CAAC,YAAD,EAAe,cAAf,CAAxB;QACMC,gBAAgB,GAAG,CAAC,WAAD,EAAc,cAAd,CAAzB;EACAH,QAAQ,CAAC9D,MAAT,CAAgBT,cAAK,CAAC2E,aAAN,CAAoBL,SAApB,CAAhB,EAAgD;IAC9ClE,GAAG,EAAE;MACH+D,OAAO,CAACS,MAAD,EAASC,IAAT,EAAe;QACpB7B,CAAC,CAACkB,KAAF,CAAQU,MAAR,EAAgB,MAAhB;QACA5B,CAAC,CAACkB,KAAF,CAAQW,IAAR,EAAc,WAAd;eACOC,OAAO,CAACC,OAAR,CAAgB,cAAhB,CAAP;;;KAL0C;IAQ9CjD,KAAK,EAAE;MACLkD,QAAQ,CAACC,MAAD,EAAS;QACfjC,CAAC,CAACkB,KAAF,CAAQe,MAAM,CAACC,IAAf,EAAqBT,eAAe,CAACU,KAAhB,EAArB;QACAnC,CAAC,CAACkB,KAAF,CAAQe,MAAM,CAACG,OAAf,EAAwBV,gBAAgB,CAACS,KAAjB,EAAxB;OAHG;;MAKLE,QAAQ,GAAG;;;GAbf;QAgBMC,QAAQ,GAAGf,QAAQ,CAACgB,eAAT,EAAjB;EACAvC,CAAC,CAACkB,KAAF,CACE,OAAOoB,QAAQ,CAACpF,KAAT,CAAe6C,IADxB,EAEE,UAFF,EAGE,qCAHF;EAKAuC,QAAQ,CAACpF,KAAT,CAAe6C,IAAf,CAAoB,WAApB;EACAC,CAAC,CAACoB,GAAF;CArCE,CAAJ;AAwCArB,IAAI,CAAC,eAAD,EAAkBC,CAAC,IAAI;QACnB2C,CAAC,GAAG,IAAIC,iBAAJ,CAAkB,MAAlB,CAAV;EACA5C,CAAC,CAAC6C,EAAF,CAAKF,CAAC,YAAYG,KAAlB;EACA9C,CAAC,CAACoB,GAAF;CAHE,CAAJ;;ACxJA;;;;;;;AAQA,AASA2B,IAAI,CAAC,WAAD,EAAc/C,CAAC,IAAI;EACrBA,CAAC,CAACkB,KAAF,CAAQ,OAAOhB,MAAM,CAAC7C,QAAtB,EAAgC,UAAhC,EAA4C,yBAA5C;EACA2C,CAAC,CAACkB,KAAF,CACE,OAAO8B,+BADT,EAEE,UAFF,EAGE,kCAHF;EAKAhD,CAAC,CAACkB,KAAF,CAAQ,OAAOhD,IAAI,CAACb,QAApB,EAA8B,UAA9B,EAA0C,sBAA1C;EACA2C,CAAC,CAACkB,KAAF,CAAQ,OAAOxC,YAAf,EAA6B,UAA7B,EAAyC,8BAAzC;EACAsB,CAAC,CAACkB,KAAF,CAAQ,OAAO9C,cAAf,EAA+B,UAA/B,EAA2C,gCAA3C;EACA4B,CAAC,CAACoB,GAAF;CAVE,CAAJ"}