{"version":3,"file":"node.js","sources":["../src/index.js","../src/__tests__/exports.js"],"sourcesContent":["// @flow\n\nimport {createToken} from 'fusion-core';\nimport type {Context, Token} from 'fusion-core';\n\n// Tokens\nexport type Fetch = (\n  input: string | Request,\n  init?: RequestOptions\n) => Promise<Response>;\nexport const FetchToken: Token<Fetch> = createToken('FetchToken');\n\nexport type Session = {\n  from(\n    ctx: Context\n  ): {\n    get(keyPath: string): any,\n    set(keyPath: string, val: any): void,\n  },\n};\nexport const SessionToken: Token<Session> = createToken('SessionToken');\n\nexport type Cache = {\n  get(key: string): Promise<mixed>,\n  del(key: string): Promise<mixed>,\n  set(key: string, val: any): Promise<mixed>,\n};\n\nexport const CacheToken: Token<Cache> = createToken('CacheToken');\n\ntype LogCallback = (\n  error?: any,\n  level?: string,\n  message?: string,\n  meta?: any\n) => void;\n\ntype LogEntry = {\n  level: string,\n  message: string,\n  [optionName: string]: any,\n};\n\ntype LogMethod = {\n  (level: string, message: string, callback: LogCallback): Logger,\n  (level: string, message: string, meta: any, callback: LogCallback): Logger,\n  (level: string, message: string, ...meta: any[]): Logger,\n  (entry: LogEntry): Logger,\n};\n\ntype LeveledLogMethod = {\n  (message: string, callback: LogCallback): Logger,\n  (message: string, meta: any, callback: LogCallback): Logger,\n  (message: string, ...meta: any[]): Logger,\n  (infoObject: Object): Logger,\n};\n\nexport type Logger = {\n  log: LogMethod,\n  error: LeveledLogMethod,\n  warn: LeveledLogMethod,\n  info: LeveledLogMethod,\n  verbose: LeveledLogMethod,\n  debug: LeveledLogMethod,\n  silly: LeveledLogMethod,\n};\nexport const LoggerToken: Token<Logger> = createToken('LoggerToken');\n","// @flow\n\nimport test from 'tape-cup';\n\nimport {FetchToken, SessionToken, LoggerToken, CacheToken} from '../index.js';\n\ntest('fusion-tokens exports', t => {\n  t.ok(FetchToken, 'exports FetchToken');\n  t.ok(SessionToken, 'exports SessionToken');\n  t.ok(LoggerToken, 'exports LoggerToken');\n  t.ok(CacheToken, 'exports CacheToken');\n  t.end();\n});\n"],"names":["FetchToken","createToken","SessionToken","CacheToken","LoggerToken","test","t","ok","end"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,AAQO,MAAMA,UAAwB,2BAAGC,sBAAW,CAAC,YAAD,CAAd,CAA9B;AAUP,AAAO,MAAMC,YAA4B,2BAAGD,sBAAW,CAAC,cAAD,CAAd,CAAlC;AAQP,AAAO,MAAME,UAAwB,2BAAGF,sBAAW,CAAC,YAAD,CAAd,CAA9B;AAsCP,AAAO,MAAMG,WAA0B,2BAAGH,sBAAW,CAAC,aAAD,CAAd,CAAhC;;AC5DPI,IAAI,CAAC,uBAAD,EAA0BC,CAAC,IAAI;EACjCA,CAAC,CAACC,EAAF,CAAKP,UAAL,EAAiB,oBAAjB;EACAM,CAAC,CAACC,EAAF,CAAKL,YAAL,EAAmB,sBAAnB;EACAI,CAAC,CAACC,EAAF,CAAKH,WAAL,EAAkB,qBAAlB;EACAE,CAAC,CAACC,EAAF,CAAKJ,UAAL,EAAiB,oBAAjB;EACAG,CAAC,CAACE,GAAF;CALE,CAAJ"}